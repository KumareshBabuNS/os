     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_sprintf
     7 00000000                                 	EXTERN	_io_stihlt
     8 00000000                                 	EXTERN	_hankaku
     9 00000000                                 	EXTERN	_io_load_eflags
    10 00000000                                 	EXTERN	_io_cli
    11 00000000                                 	EXTERN	_io_out8
    12 00000000                                 	EXTERN	_io_store_eflags
    13 00000000                                 	EXTERN	_load_gdtr
    14 00000000                                 	EXTERN	_load_idtr
    15 00000000                                 [FILE "bootpack.c"]
    16                                          [SECTION .data]
    17 00000000                                 LC0:
    18 00000000 25 78 20 78 69 61 6F 6D 65 6E   	DB	"%x xiaomengmeng",0x00
       0000000A 67 6D 65 6E 67 00 
    19                                          [SECTION .text]
    20 00000000                                 	GLOBAL	_HariMain
    21 00000000                                 _HariMain:
    22 00000000 55                              	PUSH	EBP
    23 00000001 89 E5                           	MOV	EBP,ESP
    24 00000003 57                              	PUSH	EDI
    25 00000004 56                              	PUSH	ESI
    26 00000005 BE 00000002                     	MOV	ESI,2
    27 0000000A 53                              	PUSH	EBX
    28 0000000B 81 EC 00000178                  	SUB	ESP,376
    29 00000011 E8 000002DC                     	CALL	_init_palette
    30 00000016 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    31 0000001D 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
    32 00000024 8D 48 F0                        	LEA	ECX,DWORD [-16+EAX]
    33 00000027 89 95 FFFFFE80                  	MOV	DWORD [-384+EBP],EDX
    34 0000002D 89 C8                           	MOV	EAX,ECX
    35 0000002F 8B 9D FFFFFE80                  	MOV	EBX,DWORD [-384+EBP]
    36 00000035 99                              	CDQ
    37 00000036 F7 FE                           	IDIV	ESI
    38 00000038 83 EB 2C                        	SUB	EBX,44
    39 0000003B 89 C7                           	MOV	EDI,EAX
    40 0000003D 89 D8                           	MOV	EAX,EBX
    41 0000003F 99                              	CDQ
    42 00000040 F7 FE                           	IDIV	ESI
    43 00000042 FF B5 FFFFFE80                  	PUSH	DWORD [-384+EBP]
    44 00000048 89 C3                           	MOV	EBX,EAX
    45 0000004A 8D B5 FFFFFEF4                  	LEA	ESI,DWORD [-268+EBP]
    46 00000050 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    47 00000057 50                              	PUSH	EAX
    48 00000058 FF 35 00000FF8                  	PUSH	DWORD [4088]
    49 0000005E E8 00000104                     	CALL	_init_screen
    50 00000063 6A 0E                           	PUSH	14
    51 00000065 56                              	PUSH	ESI
    52 00000066 E8 00000372                     	CALL	_init_mouse_cursor8
    53 0000006B 6A 10                           	PUSH	16
    54 0000006D 56                              	PUSH	ESI
    55 0000006E 53                              	PUSH	EBX
    56 0000006F 8D 9D FFFFFE84                  	LEA	EBX,DWORD [-380+EBP]
    57 00000075 57                              	PUSH	EDI
    58 00000076 6A 10                           	PUSH	16
    59 00000078 6A 10                           	PUSH	16
    60 0000007A 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    61 00000081 50                              	PUSH	EAX
    62 00000082 FF 35 00000FF8                  	PUSH	DWORD [4088]
    63 00000088 E8 000003AD                     	CALL	_putblock8_8
    64 0000008D 83 C4 34                        	ADD	ESP,52
    65 00000090 6A 20                           	PUSH	32
    66 00000092 68 [00000000]                   	PUSH	LC0
    67 00000097 53                              	PUSH	EBX
    68 00000098 E8 [00000000]                   	CALL	_sprintf
    69 0000009D 53                              	PUSH	EBX
    70 0000009E 6A 07                           	PUSH	7
    71 000000A0 6A 0A                           	PUSH	10
    72 000000A2 6A 0A                           	PUSH	10
    73 000000A4 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    74 000000AB 50                              	PUSH	EAX
    75 000000AC FF 35 00000FF8                  	PUSH	DWORD [4088]
    76 000000B2 E8 00000063                     	CALL	_putfont8_asc
    77 000000B7 83 C4 24                        	ADD	ESP,36
    78 000000BA                                 L2:
    79 000000BA E8 [00000000]                   	CALL	_io_stihlt
    80 000000BF EB F9                           	JMP	L2
    81 000000C1                                 	GLOBAL	_putfont8
    82 000000C1                                 _putfont8:
    83 000000C1 55                              	PUSH	EBP
    84 000000C2 89 E5                           	MOV	EBP,ESP
    85 000000C4 57                              	PUSH	EDI
    86 000000C5 56                              	PUSH	ESI
    87 000000C6 53                              	PUSH	EBX
    88 000000C7 51                              	PUSH	ECX
    89 000000C8 51                              	PUSH	ECX
    90 000000C9 31 C9                           	XOR	ECX,ECX
    91 000000CB 8A 45 18                        	MOV	AL,BYTE [24+EBP]
    92 000000CE 88 45 F3                        	MOV	BYTE [-13+EBP],AL
    93 000000D1                                 L15:
    94 000000D1 8B 45 1C                        	MOV	EAX,DWORD [28+EBP]
    95 000000D4 BA 00000080                     	MOV	EDX,128
    96 000000D9 31 DB                           	XOR	EBX,EBX
    97 000000DB 8A 04 01                        	MOV	AL,BYTE [ECX+EAX*1]
    98 000000DE 88 45 F2                        	MOV	BYTE [-14+EBP],AL
    99 000000E1                                 L14:
   100 000000E1 0F BE 45 F2                     	MOVSX	EAX,BYTE [-14+EBP]
   101 000000E5 85 D0                           	TEST	EAX,EDX
   102 000000E7 74 1D                           	JE	L13
   103 000000E9 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   104 000000EC 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   105 000000EF 01 C8                           	ADD	EAX,ECX
   106 000000F1 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   107 000000F5 03 45 10                        	ADD	EAX,DWORD [16+EBP]
   108 000000F8 01 D8                           	ADD	EAX,EBX
   109 000000FA 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   110 000000FD 8A 45 F3                        	MOV	AL,BYTE [-13+EBP]
   111 00000100 8B 7D EC                        	MOV	EDI,DWORD [-20+EBP]
   112 00000103 88 04 37                        	MOV	BYTE [EDI+ESI*1],AL
   113 00000106                                 L13:
   114 00000106 D1 FA                           	SAR	EDX,1
   115 00000108 43                              	INC	EBX
   116 00000109 85 D2                           	TEST	EDX,EDX
   117 0000010B 7F D4                           	JG	L14
   118 0000010D 41                              	INC	ECX
   119 0000010E 83 F9 0F                        	CMP	ECX,15
   120 00000111 7E BE                           	JLE	L15
   121 00000113 58                              	POP	EAX
   122 00000114 5A                              	POP	EDX
   123 00000115 5B                              	POP	EBX
   124 00000116 5E                              	POP	ESI
   125 00000117 5F                              	POP	EDI
   126 00000118 5D                              	POP	EBP
   127 00000119 C3                              	RET
   128 0000011A                                 	GLOBAL	_putfont8_asc
   129 0000011A                                 _putfont8_asc:
   130 0000011A 55                              	PUSH	EBP
   131 0000011B 89 E5                           	MOV	EBP,ESP
   132 0000011D 57                              	PUSH	EDI
   133 0000011E 56                              	PUSH	ESI
   134 0000011F 53                              	PUSH	EBX
   135 00000120 53                              	PUSH	EBX
   136 00000121 8B 5D 1C                        	MOV	EBX,DWORD [28+EBP]
   137 00000124 8A 45 18                        	MOV	AL,BYTE [24+EBP]
   138 00000127 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   139 0000012A 8B 7D 14                        	MOV	EDI,DWORD [20+EBP]
   140 0000012D 80 3B 00                        	CMP	BYTE [EBX],0
   141 00000130 74 2D                           	JE	L27
   142 00000132 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   143 00000135                                 L25:
   144 00000135 0F BE 03                        	MOVSX	EAX,BYTE [EBX]
   145 00000138 C1 E0 04                        	SAL	EAX,4
   146 0000013B 43                              	INC	EBX
   147 0000013C 05 [00000000]                   	ADD	EAX,_hankaku
   148 00000141 50                              	PUSH	EAX
   149 00000142 0F BE 45 F3                     	MOVSX	EAX,BYTE [-13+EBP]
   150 00000146 50                              	PUSH	EAX
   151 00000147 57                              	PUSH	EDI
   152 00000148 56                              	PUSH	ESI
   153 00000149 83 C6 0A                        	ADD	ESI,10
   154 0000014C FF 75 0C                        	PUSH	DWORD [12+EBP]
   155 0000014F FF 75 08                        	PUSH	DWORD [8+EBP]
   156 00000152 E8 FFFFFF6A                     	CALL	_putfont8
   157 00000157 83 C4 18                        	ADD	ESP,24
   158 0000015A 80 3B 00                        	CMP	BYTE [EBX],0
   159 0000015D 75 D6                           	JNE	L25
   160 0000015F                                 L27:
   161 0000015F 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   162 00000162 5B                              	POP	EBX
   163 00000163 5E                              	POP	ESI
   164 00000164 5F                              	POP	EDI
   165 00000165 5D                              	POP	EBP
   166 00000166 C3                              	RET
   167 00000167                                 	GLOBAL	_init_screen
   168 00000167                                 _init_screen:
   169 00000167 55                              	PUSH	EBP
   170 00000168 89 E5                           	MOV	EBP,ESP
   171 0000016A 57                              	PUSH	EDI
   172 0000016B 56                              	PUSH	ESI
   173 0000016C 53                              	PUSH	EBX
   174 0000016D 83 EC 0C                        	SUB	ESP,12
   175 00000170 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   176 00000173 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   177 00000176 83 E8 1D                        	SUB	EAX,29
   178 00000179 4F                              	DEC	EDI
   179 0000017A 50                              	PUSH	EAX
   180 0000017B 57                              	PUSH	EDI
   181 0000017C 6A 00                           	PUSH	0
   182 0000017E 6A 00                           	PUSH	0
   183 00000180 6A 0E                           	PUSH	14
   184 00000182 FF 75 0C                        	PUSH	DWORD [12+EBP]
   185 00000185 FF 75 08                        	PUSH	DWORD [8+EBP]
   186 00000188 E8 00000200                     	CALL	_boxfill8
   187 0000018D 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   188 00000190 83 E8 1C                        	SUB	EAX,28
   189 00000193 50                              	PUSH	EAX
   190 00000194 57                              	PUSH	EDI
   191 00000195 50                              	PUSH	EAX
   192 00000196 6A 00                           	PUSH	0
   193 00000198 6A 08                           	PUSH	8
   194 0000019A FF 75 0C                        	PUSH	DWORD [12+EBP]
   195 0000019D FF 75 08                        	PUSH	DWORD [8+EBP]
   196 000001A0 E8 000001E8                     	CALL	_boxfill8
   197 000001A5 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   198 000001A8 83 C4 38                        	ADD	ESP,56
   199 000001AB 83 E8 1B                        	SUB	EAX,27
   200 000001AE 50                              	PUSH	EAX
   201 000001AF 57                              	PUSH	EDI
   202 000001B0 50                              	PUSH	EAX
   203 000001B1 6A 00                           	PUSH	0
   204 000001B3 6A 07                           	PUSH	7
   205 000001B5 FF 75 0C                        	PUSH	DWORD [12+EBP]
   206 000001B8 FF 75 08                        	PUSH	DWORD [8+EBP]
   207 000001BB E8 000001CD                     	CALL	_boxfill8
   208 000001C0 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   209 000001C3 48                              	DEC	EAX
   210 000001C4 50                              	PUSH	EAX
   211 000001C5 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   212 000001C8 57                              	PUSH	EDI
   213 000001C9 83 E8 1A                        	SUB	EAX,26
   214 000001CC 50                              	PUSH	EAX
   215 000001CD 6A 00                           	PUSH	0
   216 000001CF 6A 08                           	PUSH	8
   217 000001D1 FF 75 0C                        	PUSH	DWORD [12+EBP]
   218 000001D4 FF 75 08                        	PUSH	DWORD [8+EBP]
   219 000001D7 E8 000001B1                     	CALL	_boxfill8
   220 000001DC 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   221 000001DF 83 C4 38                        	ADD	ESP,56
   222 000001E2 83 EE 18                        	SUB	ESI,24
   223 000001E5 56                              	PUSH	ESI
   224 000001E6 6A 3B                           	PUSH	59
   225 000001E8 56                              	PUSH	ESI
   226 000001E9 6A 03                           	PUSH	3
   227 000001EB 6A 07                           	PUSH	7
   228 000001ED FF 75 0C                        	PUSH	DWORD [12+EBP]
   229 000001F0 FF 75 08                        	PUSH	DWORD [8+EBP]
   230 000001F3 E8 00000195                     	CALL	_boxfill8
   231 000001F8 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   232 000001FB 83 E8 04                        	SUB	EAX,4
   233 000001FE 50                              	PUSH	EAX
   234 000001FF 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   235 00000202 6A 02                           	PUSH	2
   236 00000204 56                              	PUSH	ESI
   237 00000205 6A 02                           	PUSH	2
   238 00000207 6A 07                           	PUSH	7
   239 00000209 FF 75 0C                        	PUSH	DWORD [12+EBP]
   240 0000020C FF 75 08                        	PUSH	DWORD [8+EBP]
   241 0000020F E8 00000179                     	CALL	_boxfill8
   242 00000214 83 C4 38                        	ADD	ESP,56
   243 00000217 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   244 0000021A 6A 3B                           	PUSH	59
   245 0000021C FF 75 F0                        	PUSH	DWORD [-16+EBP]
   246 0000021F 6A 03                           	PUSH	3
   247 00000221 6A 0F                           	PUSH	15
   248 00000223 FF 75 0C                        	PUSH	DWORD [12+EBP]
   249 00000226 FF 75 08                        	PUSH	DWORD [8+EBP]
   250 00000229 E8 0000015F                     	CALL	_boxfill8
   251 0000022E 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   252 00000231 83 E8 05                        	SUB	EAX,5
   253 00000234 50                              	PUSH	EAX
   254 00000235 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   255 00000238 6A 3B                           	PUSH	59
   256 0000023A 83 E8 17                        	SUB	EAX,23
   257 0000023D 50                              	PUSH	EAX
   258 0000023E 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   259 00000241 6A 3B                           	PUSH	59
   260 00000243 6A 0F                           	PUSH	15
   261 00000245 FF 75 0C                        	PUSH	DWORD [12+EBP]
   262 00000248 FF 75 08                        	PUSH	DWORD [8+EBP]
   263 0000024B E8 0000013D                     	CALL	_boxfill8
   264 00000250 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   265 00000253 83 C4 38                        	ADD	ESP,56
   266 00000256 83 E8 03                        	SUB	EAX,3
   267 00000259 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   268 0000025C 50                              	PUSH	EAX
   269 0000025D 6A 3B                           	PUSH	59
   270 0000025F 50                              	PUSH	EAX
   271 00000260 6A 02                           	PUSH	2
   272 00000262 6A 00                           	PUSH	0
   273 00000264 FF 75 0C                        	PUSH	DWORD [12+EBP]
   274 00000267 FF 75 08                        	PUSH	DWORD [8+EBP]
   275 0000026A E8 0000011E                     	CALL	_boxfill8
   276 0000026F FF 75 E8                        	PUSH	DWORD [-24+EBP]
   277 00000272 6A 3C                           	PUSH	60
   278 00000274 56                              	PUSH	ESI
   279 00000275 6A 3C                           	PUSH	60
   280 00000277 6A 00                           	PUSH	0
   281 00000279 FF 75 0C                        	PUSH	DWORD [12+EBP]
   282 0000027C FF 75 08                        	PUSH	DWORD [8+EBP]
   283 0000027F E8 00000109                     	CALL	_boxfill8
   284 00000284 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   285 00000287 83 C4 38                        	ADD	ESP,56
   286 0000028A 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   287 0000028D 83 EB 04                        	SUB	EBX,4
   288 00000290 83 EF 2F                        	SUB	EDI,47
   289 00000293 56                              	PUSH	ESI
   290 00000294 53                              	PUSH	EBX
   291 00000295 56                              	PUSH	ESI
   292 00000296 57                              	PUSH	EDI
   293 00000297 6A 0F                           	PUSH	15
   294 00000299 FF 75 0C                        	PUSH	DWORD [12+EBP]
   295 0000029C FF 75 08                        	PUSH	DWORD [8+EBP]
   296 0000029F E8 000000E9                     	CALL	_boxfill8
   297 000002A4 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   298 000002A7 57                              	PUSH	EDI
   299 000002A8 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   300 000002AB 57                              	PUSH	EDI
   301 000002AC 6A 0F                           	PUSH	15
   302 000002AE FF 75 0C                        	PUSH	DWORD [12+EBP]
   303 000002B1 FF 75 08                        	PUSH	DWORD [8+EBP]
   304 000002B4 E8 000000D4                     	CALL	_boxfill8
   305 000002B9 83 C4 38                        	ADD	ESP,56
   306 000002BC FF 75 E8                        	PUSH	DWORD [-24+EBP]
   307 000002BF 53                              	PUSH	EBX
   308 000002C0 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   309 000002C3 57                              	PUSH	EDI
   310 000002C4 6A 07                           	PUSH	7
   311 000002C6 FF 75 0C                        	PUSH	DWORD [12+EBP]
   312 000002C9 FF 75 08                        	PUSH	DWORD [8+EBP]
   313 000002CC E8 000000BC                     	CALL	_boxfill8
   314 000002D1 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   315 000002D4 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   316 000002D7 83 E8 03                        	SUB	EAX,3
   317 000002DA 50                              	PUSH	EAX
   318 000002DB 56                              	PUSH	ESI
   319 000002DC 50                              	PUSH	EAX
   320 000002DD 6A 07                           	PUSH	7
   321 000002DF FF 75 0C                        	PUSH	DWORD [12+EBP]
   322 000002E2 FF 75 08                        	PUSH	DWORD [8+EBP]
   323 000002E5 E8 000000A3                     	CALL	_boxfill8
   324 000002EA 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   325 000002ED 5B                              	POP	EBX
   326 000002EE 5E                              	POP	ESI
   327 000002EF 5F                              	POP	EDI
   328 000002F0 5D                              	POP	EBP
   329 000002F1 C3                              	RET
   330                                          [SECTION .data]
   331 00000010                                 _table_rgb.0:
   332 00000010 00                              	DB	0
   333 00000011 00                              	DB	0
   334 00000012 00                              	DB	0
   335 00000013 FF                              	DB	-1
   336 00000014 00                              	DB	0
   337 00000015 00                              	DB	0
   338 00000016 00                              	DB	0
   339 00000017 FF                              	DB	-1
   340 00000018 00                              	DB	0
   341 00000019 FF                              	DB	-1
   342 0000001A FF                              	DB	-1
   343 0000001B 00                              	DB	0
   344 0000001C 00                              	DB	0
   345 0000001D 00                              	DB	0
   346 0000001E FF                              	DB	-1
   347 0000001F FF                              	DB	-1
   348 00000020 00                              	DB	0
   349 00000021 FF                              	DB	-1
   350 00000022 00                              	DB	0
   351 00000023 FF                              	DB	-1
   352 00000024 FF                              	DB	-1
   353 00000025 FF                              	DB	-1
   354 00000026 FF                              	DB	-1
   355 00000027 FF                              	DB	-1
   356 00000028 C6                              	DB	-58
   357 00000029 C6                              	DB	-58
   358 0000002A C6                              	DB	-58
   359 0000002B 84                              	DB	-124
   360 0000002C 00                              	DB	0
   361 0000002D 00                              	DB	0
   362 0000002E 00                              	DB	0
   363 0000002F 84                              	DB	-124
   364 00000030 00                              	DB	0
   365 00000031 84                              	DB	-124
   366 00000032 84                              	DB	-124
   367 00000033 00                              	DB	0
   368 00000034 00                              	DB	0
   369 00000035 00                              	DB	0
   370 00000036 84                              	DB	-124
   371 00000037 84                              	DB	-124
   372 00000038 00                              	DB	0
   373 00000039 84                              	DB	-124
   374 0000003A 00                              	DB	0
   375 0000003B 84                              	DB	-124
   376 0000003C 84                              	DB	-124
   377 0000003D 84                              	DB	-124
   378 0000003E 84                              	DB	-124
   379 0000003F 84                              	DB	-124
   380                                          [SECTION .text]
   381 000002F2                                 	GLOBAL	_init_palette
   382 000002F2                                 _init_palette:
   383 000002F2 55                              	PUSH	EBP
   384 000002F3 89 E5                           	MOV	EBP,ESP
   385 000002F5 68 [00000010]                   	PUSH	_table_rgb.0
   386 000002FA 6A 0F                           	PUSH	15
   387 000002FC 6A 00                           	PUSH	0
   388 000002FE E8 00000002                     	CALL	_set_palette
   389 00000303 C9                              	LEAVE
   390 00000304 C3                              	RET
   391 00000305                                 	GLOBAL	_set_palette
   392 00000305                                 _set_palette:
   393 00000305 55                              	PUSH	EBP
   394 00000306 89 E5                           	MOV	EBP,ESP
   395 00000308 57                              	PUSH	EDI
   396 00000309 56                              	PUSH	ESI
   397 0000030A 53                              	PUSH	EBX
   398 0000030B 51                              	PUSH	ECX
   399 0000030C 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   400 0000030F 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   401 00000312 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   402 00000315 E8 [00000000]                   	CALL	_io_load_eflags
   403 0000031A 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   404 0000031D E8 [00000000]                   	CALL	_io_cli
   405 00000322 53                              	PUSH	EBX
   406 00000323 68 000003C8                     	PUSH	968
   407 00000328 E8 [00000000]                   	CALL	_io_out8
   408 0000032D 39 FB                           	CMP	EBX,EDI
   409 0000032F 58                              	POP	EAX
   410 00000330 5A                              	POP	EDX
   411 00000331 7E 12                           	JLE	L35
   412 00000333                                 L37:
   413 00000333 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   414 00000336 89 45 08                        	MOV	DWORD [8+EBP],EAX
   415 00000339 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   416 0000033C 5B                              	POP	EBX
   417 0000033D 5E                              	POP	ESI
   418 0000033E 5F                              	POP	EDI
   419 0000033F 5D                              	POP	EBP
   420 00000340 E9 [00000000]                   	JMP	_io_store_eflags
   421 00000345                                 L35:
   422 00000345 8A 06                           	MOV	AL,BYTE [ESI]
   423 00000347 43                              	INC	EBX
   424 00000348 C0 E8 02                        	SHR	AL,2
   425 0000034B 0F B6 C0                        	MOVZX	EAX,AL
   426 0000034E 50                              	PUSH	EAX
   427 0000034F 68 000003C9                     	PUSH	969
   428 00000354 E8 [00000000]                   	CALL	_io_out8
   429 00000359 8A 46 01                        	MOV	AL,BYTE [1+ESI]
   430 0000035C C0 E8 02                        	SHR	AL,2
   431 0000035F 0F B6 C0                        	MOVZX	EAX,AL
   432 00000362 50                              	PUSH	EAX
   433 00000363 68 000003C9                     	PUSH	969
   434 00000368 E8 [00000000]                   	CALL	_io_out8
   435 0000036D 8A 46 02                        	MOV	AL,BYTE [2+ESI]
   436 00000370 C0 E8 02                        	SHR	AL,2
   437 00000373 83 C6 03                        	ADD	ESI,3
   438 00000376 0F B6 C0                        	MOVZX	EAX,AL
   439 00000379 50                              	PUSH	EAX
   440 0000037A 68 000003C9                     	PUSH	969
   441 0000037F E8 [00000000]                   	CALL	_io_out8
   442 00000384 83 C4 18                        	ADD	ESP,24
   443 00000387 39 FB                           	CMP	EBX,EDI
   444 00000389 7E BA                           	JLE	L35
   445 0000038B EB A6                           	JMP	L37
   446 0000038D                                 	GLOBAL	_boxfill8
   447 0000038D                                 _boxfill8:
   448 0000038D 55                              	PUSH	EBP
   449 0000038E 89 E5                           	MOV	EBP,ESP
   450 00000390 57                              	PUSH	EDI
   451 00000391 56                              	PUSH	ESI
   452 00000392 53                              	PUSH	EBX
   453 00000393 83 EC 0C                        	SUB	ESP,12
   454 00000396 8B 7D 1C                        	MOV	EDI,DWORD [28+EBP]
   455 00000399 8A 45 10                        	MOV	AL,BYTE [16+EBP]
   456 0000039C 8B 5D 14                        	MOV	EBX,DWORD [20+EBP]
   457 0000039F 8B 75 20                        	MOV	ESI,DWORD [32+EBP]
   458 000003A2 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   459 000003A5 39 FB                           	CMP	EBX,EDI
   460 000003A7 7F 2C                           	JG	L50
   461 000003A9                                 L48:
   462 000003A9 8B 4D 18                        	MOV	ECX,DWORD [24+EBP]
   463 000003AC 39 F1                           	CMP	ECX,ESI
   464 000003AE 7F 20                           	JG	L52
   465 000003B0 8B 55 0C                        	MOV	EDX,DWORD [12+EBP]
   466 000003B3 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   467 000003B6 0F AF D1                        	IMUL	EDX,ECX
   468 000003B9 01 D8                           	ADD	EAX,EBX
   469 000003BB 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   470 000003BE 89 D0                           	MOV	EAX,EDX
   471 000003C0 03 45 EC                        	ADD	EAX,DWORD [-20+EBP]
   472 000003C3                                 L47:
   473 000003C3 8A 55 F3                        	MOV	DL,BYTE [-13+EBP]
   474 000003C6 41                              	INC	ECX
   475 000003C7 88 10                           	MOV	BYTE [EAX],DL
   476 000003C9 03 45 0C                        	ADD	EAX,DWORD [12+EBP]
   477 000003CC 39 F1                           	CMP	ECX,ESI
   478 000003CE 7E F3                           	JLE	L47
   479 000003D0                                 L52:
   480 000003D0 43                              	INC	EBX
   481 000003D1 39 FB                           	CMP	EBX,EDI
   482 000003D3 7E D4                           	JLE	L48
   483 000003D5                                 L50:
   484 000003D5 83 C4 0C                        	ADD	ESP,12
   485 000003D8 5B                              	POP	EBX
   486 000003D9 5E                              	POP	ESI
   487 000003DA 5F                              	POP	EDI
   488 000003DB 5D                              	POP	EBP
   489 000003DC C3                              	RET
   490                                          [SECTION .data]
   491 00000040                                 _cursor.1:
   492 00000040 2A 2A 2A 2A 2A 2A 2A 2A 2A 2A   	DB	"**************.."
       0000004A 2A 2A 2A 2A 2E 2E 
   493 00000050 2A 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"*OOOOOOOOOOO*..."
       0000005A 4F 4F 2A 2E 2E 2E 
   494 00000060 2A 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"*OOOOOOOOOO*...."
       0000006A 4F 2A 2E 2E 2E 2E 
   495 00000070 2A 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"*OOOOOOOOO*....."
       0000007A 2A 2E 2E 2E 2E 2E 
   496 00000080 2A 4F 4F 4F 4F 4F 4F 4F 4F 2A   	DB	"*OOOOOOOO*......"
       0000008A 2E 2E 2E 2E 2E 2E 
   497 00000090 2A 4F 4F 4F 4F 4F 4F 4F 2A 2E   	DB	"*OOOOOOO*......."
       0000009A 2E 2E 2E 2E 2E 2E 
   498 000000A0 2A 4F 4F 4F 4F 4F 4F 4F 2A 2E   	DB	"*OOOOOOO*......."
       000000AA 2E 2E 2E 2E 2E 2E 
   499 000000B0 2A 4F 4F 4F 4F 4F 4F 4F 4F 2A   	DB	"*OOOOOOOO*......"
       000000BA 2E 2E 2E 2E 2E 2E 
   500 000000C0 2A 4F 4F 4F 4F 2A 2A 4F 4F 4F   	DB	"*OOOO**OOO*....."
       000000CA 2A 2E 2E 2E 2E 2E 
   501 000000D0 2A 4F 4F 4F 2A 2E 2E 2A 4F 4F   	DB	"*OOO*..*OOO*...."
       000000DA 4F 2A 2E 2E 2E 2E 
   502 000000E0 2A 4F 4F 2A 2E 2E 2E 2E 2A 4F   	DB	"*OO*....*OOO*..."
       000000EA 4F 4F 2A 2E 2E 2E 
   503 000000F0 2A 4F 2A 2E 2E 2E 2E 2E 2E 2A   	DB	"*O*......*OOO*.."
       000000FA 4F 4F 4F 2A 2E 2E 
   504 00000100 2A 2A 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"**........*OOO*."
       0000010A 2A 4F 4F 4F 2A 2E 
   505 00000110 2A 2E 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"*..........*OOO*"
       0000011A 2E 2A 4F 4F 4F 2A 
   506 00000120 2E 2E 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"............*OO*"
       0000012A 2E 2E 2A 4F 4F 2A 
   507 00000130 2E 2E 2E 2E 2E 2E 2E 2E 2E 2E   	DB	".............***"
       0000013A 2E 2E 2E 2A 2A 2A 
   508                                          [SECTION .text]
   509 000003DD                                 	GLOBAL	_init_mouse_cursor8
   510 000003DD                                 _init_mouse_cursor8:
   511 000003DD 55                              	PUSH	EBP
   512 000003DE 89 E5                           	MOV	EBP,ESP
   513 000003E0 57                              	PUSH	EDI
   514 000003E1 56                              	PUSH	ESI
   515 000003E2 31 FF                           	XOR	EDI,EDI
   516 000003E4 53                              	PUSH	EBX
   517 000003E5 56                              	PUSH	ESI
   518 000003E6 31 DB                           	XOR	EBX,EBX
   519 000003E8 8A 45 0C                        	MOV	AL,BYTE [12+EBP]
   520 000003EB 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   521 000003EE 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   522 000003F1                                 L66:
   523 000003F1 31 D2                           	XOR	EDX,EDX
   524 000003F3                                 L65:
   525 000003F3 8D 04 3A                        	LEA	EAX,DWORD [EDX+EDI*1]
   526 000003F6 80 B8 [00000040] 2A             	CMP	BYTE [_cursor.1+EAX],42
   527 000003FD 74 35                           	JE	L71
   528 000003FF                                 L62:
   529 000003FF 80 B8 [00000040] 4F             	CMP	BYTE [_cursor.1+EAX],79
   530 00000406 74 26                           	JE	L72
   531 00000408                                 L63:
   532 00000408 80 B8 [00000040] 2E             	CMP	BYTE [_cursor.1+EAX],46
   533 0000040F 74 15                           	JE	L73
   534 00000411                                 L60:
   535 00000411 42                              	INC	EDX
   536 00000412 83 FA 0F                        	CMP	EDX,15
   537 00000415 7E DC                           	JLE	L65
   538 00000417 43                              	INC	EBX
   539 00000418 83 C7 10                        	ADD	EDI,16
   540 0000041B 83 FB 0F                        	CMP	EBX,15
   541 0000041E 7E D1                           	JLE	L66
   542 00000420 5B                              	POP	EBX
   543 00000421 5B                              	POP	EBX
   544 00000422 5E                              	POP	ESI
   545 00000423 5F                              	POP	EDI
   546 00000424 5D                              	POP	EBP
   547 00000425 C3                              	RET
   548 00000426                                 L73:
   549 00000426 8A 4D F3                        	MOV	CL,BYTE [-13+EBP]
   550 00000429 88 0C 30                        	MOV	BYTE [EAX+ESI*1],CL
   551 0000042C EB E3                           	JMP	L60
   552 0000042E                                 L72:
   553 0000042E C6 04 30 07                     	MOV	BYTE [EAX+ESI*1],7
   554 00000432 EB D4                           	JMP	L63
   555 00000434                                 L71:
   556 00000434 C6 04 30 00                     	MOV	BYTE [EAX+ESI*1],0
   557 00000438 EB C5                           	JMP	L62
   558 0000043A                                 	GLOBAL	_putblock8_8
   559 0000043A                                 _putblock8_8:
   560 0000043A 55                              	PUSH	EBP
   561 0000043B 89 E5                           	MOV	EBP,ESP
   562 0000043D 57                              	PUSH	EDI
   563 0000043E 56                              	PUSH	ESI
   564 0000043F 31 F6                           	XOR	ESI,ESI
   565 00000441 53                              	PUSH	EBX
   566 00000442 83 EC 0C                        	SUB	ESP,12
   567 00000445 3B 75 14                        	CMP	ESI,DWORD [20+EBP]
   568 00000448 7D 3E                           	JGE	L86
   569 0000044A 31 FF                           	XOR	EDI,EDI
   570 0000044C                                 L84:
   571 0000044C 31 DB                           	XOR	EBX,EBX
   572 0000044E 3B 5D 10                        	CMP	EBX,DWORD [16+EBP]
   573 00000451 7D 2C                           	JGE	L88
   574 00000453 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
   575 00000456 01 F8                           	ADD	EAX,EDI
   576 00000458 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   577 0000045B                                 L83:
   578 0000045B 8B 45 1C                        	MOV	EAX,DWORD [28+EBP]
   579 0000045E 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
   580 00000461 01 F0                           	ADD	EAX,ESI
   581 00000463 01 DA                           	ADD	EDX,EBX
   582 00000465 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   583 00000469 01 D0                           	ADD	EAX,EDX
   584 0000046B 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   585 0000046E 8B 55 EC                        	MOV	EDX,DWORD [-20+EBP]
   586 00000471 43                              	INC	EBX
   587 00000472 8A 12                           	MOV	DL,BYTE [EDX]
   588 00000474 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
   589 00000477 FF 45 EC                        	INC	DWORD [-20+EBP]
   590 0000047A 3B 5D 10                        	CMP	EBX,DWORD [16+EBP]
   591 0000047D 7C DC                           	JL	L83
   592 0000047F                                 L88:
   593 0000047F 46                              	INC	ESI
   594 00000480 03 7D 24                        	ADD	EDI,DWORD [36+EBP]
   595 00000483 3B 75 14                        	CMP	ESI,DWORD [20+EBP]
   596 00000486 7C C4                           	JL	L84
   597 00000488                                 L86:
   598 00000488 83 C4 0C                        	ADD	ESP,12
   599 0000048B 5B                              	POP	EBX
   600 0000048C 5E                              	POP	ESI
   601 0000048D 5F                              	POP	EDI
   602 0000048E 5D                              	POP	EBP
   603 0000048F C3                              	RET
   604 00000490                                 	GLOBAL	_init_gdtidt
   605 00000490                                 _init_gdtidt:
   606 00000490 55                              	PUSH	EBP
   607 00000491 89 E5                           	MOV	EBP,ESP
   608 00000493 56                              	PUSH	ESI
   609 00000494 53                              	PUSH	EBX
   610 00000495 BE 00270000                     	MOV	ESI,2555904
   611 0000049A BB 00001FFF                     	MOV	EBX,8191
   612 0000049F                                 L94:
   613 0000049F 6A 00                           	PUSH	0
   614 000004A1 6A 00                           	PUSH	0
   615 000004A3 6A 00                           	PUSH	0
   616 000004A5 56                              	PUSH	ESI
   617 000004A6 83 C6 08                        	ADD	ESI,8
   618 000004A9 E8 0000007B                     	CALL	_set_segmdesc
   619 000004AE 83 C4 10                        	ADD	ESP,16
   620 000004B1 4B                              	DEC	EBX
   621 000004B2 79 EB                           	JNS	L94
   622 000004B4 68 00004092                     	PUSH	16530
   623 000004B9 BE 0026F800                     	MOV	ESI,2553856
   624 000004BE 6A 00                           	PUSH	0
   625 000004C0 BB 000000FF                     	MOV	EBX,255
   626 000004C5 6A FF                           	PUSH	-1
   627 000004C7 68 00270008                     	PUSH	2555912
   628 000004CC E8 00000058                     	CALL	_set_segmdesc
   629 000004D1 68 0000409A                     	PUSH	16538
   630 000004D6 68 00280000                     	PUSH	2621440
   631 000004DB 68 0007FFFF                     	PUSH	524287
   632 000004E0 68 00270010                     	PUSH	2555920
   633 000004E5 E8 0000003F                     	CALL	_set_segmdesc
   634 000004EA 83 C4 20                        	ADD	ESP,32
   635 000004ED 68 00270000                     	PUSH	2555904
   636 000004F2 68 0000FFFF                     	PUSH	65535
   637 000004F7 E8 [00000000]                   	CALL	_load_gdtr
   638 000004FC 58                              	POP	EAX
   639 000004FD 5A                              	POP	EDX
   640 000004FE                                 L99:
   641 000004FE 6A 00                           	PUSH	0
   642 00000500 6A 00                           	PUSH	0
   643 00000502 6A 00                           	PUSH	0
   644 00000504 56                              	PUSH	ESI
   645 00000505 83 C6 08                        	ADD	ESI,8
   646 00000508 E8 00000063                     	CALL	_set_gatedesc
   647 0000050D 83 C4 10                        	ADD	ESP,16
   648 00000510 4B                              	DEC	EBX
   649 00000511 79 EB                           	JNS	L99
   650 00000513 68 0026F800                     	PUSH	2553856
   651 00000518 68 000007FF                     	PUSH	2047
   652 0000051D E8 [00000000]                   	CALL	_load_idtr
   653 00000522 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   654 00000525 5B                              	POP	EBX
   655 00000526 5E                              	POP	ESI
   656 00000527 5D                              	POP	EBP
   657 00000528 C3                              	RET
   658 00000529                                 	GLOBAL	_set_segmdesc
   659 00000529                                 _set_segmdesc:
   660 00000529 55                              	PUSH	EBP
   661 0000052A 89 E5                           	MOV	EBP,ESP
   662 0000052C 53                              	PUSH	EBX
   663 0000052D 8B 55 0C                        	MOV	EDX,DWORD [12+EBP]
   664 00000530 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
   665 00000533 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   666 00000536 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   667 00000539 81 FA 000FFFFF                  	CMP	EDX,1048575
   668 0000053F 76 08                           	JBE	L105
   669 00000541 C1 EA 0C                        	SHR	EDX,12
   670 00000544 0D 00008000                     	OR	EAX,32768
   671 00000549                                 L105:
   672 00000549 66 89 13                        	MOV	WORD [EBX],DX
   673 0000054C 88 43 05                        	MOV	BYTE [5+EBX],AL
   674 0000054F C1 F8 08                        	SAR	EAX,8
   675 00000552 66 89 4B 02                     	MOV	WORD [2+EBX],CX
   676 00000556 83 E0 F0                        	AND	EAX,-16
   677 00000559 C1 F9 10                        	SAR	ECX,16
   678 0000055C C1 EA 10                        	SHR	EDX,16
   679 0000055F 88 4B 04                        	MOV	BYTE [4+EBX],CL
   680 00000562 C1 F9 08                        	SAR	ECX,8
   681 00000565 09 D0                           	OR	EAX,EDX
   682 00000567 88 43 06                        	MOV	BYTE [6+EBX],AL
   683 0000056A 88 4B 07                        	MOV	BYTE [7+EBX],CL
   684 0000056D 5B                              	POP	EBX
   685 0000056E 5D                              	POP	EBP
   686 0000056F C3                              	RET
   687 00000570                                 	GLOBAL	_set_gatedesc
   688 00000570                                 _set_gatedesc:
   689 00000570 55                              	PUSH	EBP
   690 00000571 89 E5                           	MOV	EBP,ESP
   691 00000573 53                              	PUSH	EBX
   692 00000574 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   693 00000577 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   694 0000057A 8B 5D 14                        	MOV	EBX,DWORD [20+EBP]
   695 0000057D 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
   696 00000580 66 89 42 02                     	MOV	WORD [2+EDX],AX
   697 00000584 88 5A 05                        	MOV	BYTE [5+EDX],BL
   698 00000587 66 89 0A                        	MOV	WORD [EDX],CX
   699 0000058A 89 D8                           	MOV	EAX,EBX
   700 0000058C C1 F8 08                        	SAR	EAX,8
   701 0000058F C1 F9 10                        	SAR	ECX,16
   702 00000592 88 42 04                        	MOV	BYTE [4+EDX],AL
   703 00000595 66 89 4A 06                     	MOV	WORD [6+EDX],CX
   704 00000599 5B                              	POP	EBX
   705 0000059A 5D                              	POP	EBP
   706 0000059B C3                              	RET
