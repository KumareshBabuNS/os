     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_init_palette
     7 00000000                                 	EXTERN	_init_gdtidt
     8 00000000                                 	EXTERN	_init_pic
     9 00000000                                 	EXTERN	_init_screen
    10 00000000                                 	EXTERN	_init_mouse_cursor8
    11 00000000                                 	EXTERN	_putblock8_8
    12 00000000                                 	EXTERN	_io_out8
    13 00000000                                 	EXTERN	_io_stihlt
    14 00000000                                 [FILE "bootpack.c"]
    15                                          [SECTION .text]
    16 00000000                                 	GLOBAL	_HariMain
    17 00000000                                 _HariMain:
    18 00000000 55                              	PUSH	EBP
    19 00000001 89 E5                           	MOV	EBP,ESP
    20 00000003 57                              	PUSH	EDI
    21 00000004 56                              	PUSH	ESI
    22 00000005 53                              	PUSH	EBX
    23 00000006 BB 00000002                     	MOV	EBX,2
    24 0000000B 81 EC 00000108                  	SUB	ESP,264
    25 00000011 E8 [00000000]                   	CALL	_init_palette
    26 00000016 E8 [00000000]                   	CALL	_init_gdtidt
    27 0000001B E8 [00000000]                   	CALL	_init_pic
    28 00000020 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    29 00000027 0F BF 35 00000FF6               	MOVSX	ESI,WORD [4086]
    30 0000002E 8D 48 F0                        	LEA	ECX,DWORD [-16+EAX]
    31 00000031 56                              	PUSH	ESI
    32 00000032 89 C8                           	MOV	EAX,ECX
    33 00000034 B9 00000002                     	MOV	ECX,2
    34 00000039 99                              	CDQ
    35 0000003A F7 FB                           	IDIV	EBX
    36 0000003C 8D 5E D4                        	LEA	EBX,DWORD [-44+ESI]
    37 0000003F 89 C7                           	MOV	EDI,EAX
    38 00000041 89 D8                           	MOV	EAX,EBX
    39 00000043 8D B5 FFFFFEF4                  	LEA	ESI,DWORD [-268+EBP]
    40 00000049 99                              	CDQ
    41 0000004A F7 F9                           	IDIV	ECX
    42 0000004C 0F BF 15 00000FF4               	MOVSX	EDX,WORD [4084]
    43 00000053 52                              	PUSH	EDX
    44 00000054 89 C3                           	MOV	EBX,EAX
    45 00000056 FF 35 00000FF8                  	PUSH	DWORD [4088]
    46 0000005C E8 [00000000]                   	CALL	_init_screen
    47 00000061 6A 0E                           	PUSH	14
    48 00000063 56                              	PUSH	ESI
    49 00000064 E8 [00000000]                   	CALL	_init_mouse_cursor8
    50 00000069 6A 10                           	PUSH	16
    51 0000006B 56                              	PUSH	ESI
    52 0000006C 53                              	PUSH	EBX
    53 0000006D 57                              	PUSH	EDI
    54 0000006E 6A 10                           	PUSH	16
    55 00000070 6A 10                           	PUSH	16
    56 00000072 0F BF 15 00000FF4               	MOVSX	EDX,WORD [4084]
    57 00000079 52                              	PUSH	EDX
    58 0000007A FF 35 00000FF8                  	PUSH	DWORD [4088]
    59 00000080 E8 [00000000]                   	CALL	_putblock8_8
    60 00000085 83 C4 34                        	ADD	ESP,52
    61 00000088 68 000000F9                     	PUSH	249
    62 0000008D 6A 21                           	PUSH	33
    63 0000008F E8 [00000000]                   	CALL	_io_out8
    64 00000094 68 000000EF                     	PUSH	239
    65 00000099 68 000000A1                     	PUSH	161
    66 0000009E E8 [00000000]                   	CALL	_io_out8
    67 000000A3 83 C4 10                        	ADD	ESP,16
    68 000000A6                                 L2:
    69 000000A6 E8 [00000000]                   	CALL	_io_stihlt
    70 000000AB EB F9                           	JMP	L2
